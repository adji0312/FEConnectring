<div class="vh-100 bg-image">
</div>

<div class="m-0 container d-flex flex-column justify-content-center align-items-center position-absolute" style="top: 50%; left: 50%; transform: translate(-50%, -50%);">
  <div style="width: 50%; border-radius: 15px;" class="p-5 shadow-lg bg-light">
    <div class="text-center d-flex align-items-center justify-content-center">
      <img src="assets/images/ConnectringLogo.png" alt="" style="width: 400px;">
    </div>
    <form class="mt-3" #userForm="ngForm" [formGroup]="regisForm">
      <h5>REGISTER</h5>
      <hr>
      <div class="d-flex justify-content-between gap-3">
        <div class="w-100">
          <div class="mb-2">
            <label for="" class="form-label">Name</label>
            <input type="text" #name name="name" class="form-control form-control-sm" formControlName="name" [ngClass]="{ 'is-invalid' : regisForm.controls['name'].touched && regisForm.controls['name'].errors}" id="name" placeholder="" autocomplete="off">
            <div *ngIf="regisForm.controls['name'].touched && regisForm.controls['name'].errors" class="text-danger">
              <div *ngIf="regisForm.controls['name'].touched && regisForm.controls['name'].errors['required']">
                <small>Name must be filled</small>
              </div>
            </div>
          </div>
          <div class="mb-2">
            <label for="" class="form-label">Username</label>
            <input type="text" #username name="username" class="form-control form-control-sm" formControlName="username" [ngClass]="{ 'is-invalid' : regisForm.controls['username'].touched && regisForm.controls['username'].errors}" id="username" placeholder="alpha & numeric" autocomplete="off">
            <div *ngIf="regisForm.controls['username'].touched && regisForm.controls['username'].errors" class="text-danger">
              <div *ngIf="regisForm.controls['username'].touched && regisForm.controls['username'].errors['required']">
                <small>Username must be filled</small>
              </div>
            </div>
            <div *ngIf="regisForm.controls['username'].touched && regisForm.controls['username'].errors" class="text-danger">
              <div *ngIf="regisForm.controls['username'].touched && regisForm.controls['username'].errors['pattern']">
                <small>Username must be alphanumeric</small>
              </div>
            </div>
          </div>
          <div class="mb-2">
            <label for="" class="form-label">Phone</label>
            <input type="text" #phone name="phone" class="form-control form-control-sm" formControlName="phone" [ngClass]="{ 'is-invalid' : regisForm.controls['phone'].touched && regisForm.controls['phone'].errors}" id="phone" placeholder="" autocomplete="off">
            <div *ngIf="regisForm.controls['phone'].touched && regisForm.controls['phone'].errors" class="text-danger">
              <div *ngIf="regisForm.controls['phone'].touched && regisForm.controls['phone'].errors['required']">
                <small>Phone must be filled</small>
              </div>
            </div>
            <div *ngIf="regisForm.controls['phone'].touched && regisForm.controls['phone'].errors" class="text-danger">
              <div *ngIf="regisForm.controls['phone'].touched && regisForm.controls['phone'].errors['pattern']">
                <small>Phone must be numeric</small>
              </div>
            </div>
          </div>
        </div>
        <div class="w-100">
          <div class="mb-2">
            <label for="" class="form-label">Photo Profile</label>
            <input type="file" class="form-control form-control-sm" name="profile_image" (change)="onFileChanged($event)">
            <!-- <div *ngIf="regisForm.controls['phone'].touched && regisForm.controls['phone'].errors" class="text-danger">
              <div *ngIf="regisForm.controls['phone'].touched && regisForm.controls['phone'].errors['required']">
                <small>Photo Profile must be filled</small>
              </div>
            </div> -->
          </div>
          <div class="mb-2">
            <label for="" class="form-label">Password</label>
            <input type="password" name="password" class="form-control form-control-sm" formControlName="password" [ngClass]="{ 'is-invalid' : regisForm.controls['password'].touched && regisForm.controls['password'].errors}" id="password" placeholder="min 8 characters" autocomplete="off">
            <div *ngIf="regisForm.controls['password'].touched && regisForm.controls['password'].errors" class="text-danger">
              <div *ngIf="regisForm.controls['password'].touched && regisForm.controls['password'].errors['required']">
                <small>Password must be filled</small>
              </div>
            </div>
          </div>
          <div class="mb-2">
            <label for="" class="form-label">Confirm Password</label>
            <input type="password" name="confirmpassword" class="form-control form-control-sm" formControlName="confirmpassword" [ngClass]="{ 'is-invalid' : regisForm.controls['confirmpassword'].touched && regisForm.controls['confirmpassword'].errors}" id="confirmpassword" placeholder="min 8 characters" autocomplete="off" >
            <div *ngIf="regisForm.controls['confirmpassword'].touched && regisForm.controls['confirmpassword'].errors" class="text-danger">
              <div *ngIf="regisForm.controls['confirmpassword'].touched && regisForm.controls['confirmpassword'].errors['required']">
                <small>Confirm Password must be filled</small>
              </div>
              <div *ngIf="regisForm.get('confirmpassword')?.errors?.['mismatch'] && regisForm.get('confirmpassword')?.touched">
                <small>Password and Confirm Password must be match</small>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="d-flex gap-3">
        <button type="submit" [disabled]="regisForm.invalid" (click)="register()" class="btn btn-sm mt-3" style="background-color: #c5a375; color: white;"><i class="fas fa-sign-in-alt"></i> Register</button>
        <div class="d-flex align-items-end">
          <small class="text-center mt-2">Have an account? <a href="/login" class="text-dark">Login</a></small>
        </div>
      </div>
    </form>
  </div>
</div>