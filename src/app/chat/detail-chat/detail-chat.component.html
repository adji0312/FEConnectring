<app-navbar></app-navbar>
<div class="m-4 mt-5" style="min-height: 100vh;">
    <!-- <div class="d-flex justify-content-between mb-3">
        
    </div> -->
  <div class="d-flex justify-content-between">
    <h2><a (click)="goBack()" class="text-decoration-none" style="color: #482f20; cursor: pointer;"><i class="fas fa-arrow-circle-left" style="color: #482f20;"></i> Back</a></h2>
    <div class="d-flex gap-3 mb-4">
        <h2 *ngIf="loginuser.userEntity.flag == 1">Chat with {{ catering.merchant_name }}</h2>
        <h2 *ngIf="loginuser.userEntity.flag == 2">Chat with {{ customer.name }}</h2>
    </div>
  </div>
  <div style="height: 500px;" class="bg-light shadow-lg d-flex flex-column justify-content-end">

    <div style="overflow-y: auto;" class="m-3 mt-4 d-flex flex-column">

        <div *ngFor="let message of messages">
          <div *ngIf="message.sender_id != loginuser.userEntity.id" class="d-flex justify-content-start">
              <p class="mx-3 bg-light shadow p-3" style="border-radius: 15px; max-width: 400px;">{{ message.message }}</p>
          </div>

          <div *ngIf="message.sender_id == loginuser.userEntity.id" class="d-flex justify-content-end">
              <p class="mx-3 bg-primary shadow p-3" style="border-radius: 15px; max-width: 400px; color: white;">{{ message.message }}</p>
          </div>

        </div>
    </div>

    
    <!-- <div class="m-3 d-flex gap-2"> -->
      <form [formGroup]="messageForm" (ngSubmit)="onSubmitMessage()" class="m-3 d-flex gap-2">
        <input type="text" class="form-control" name="message" formControlName="message" placeholder="Write something here...">
        <button type="submit" class="btn btn-primary btn-sm" style="width: 100px;"><i class="fas fa-paper-plane"></i> Send</button>
      </form>
    <!-- </div> -->
  </div>

</div>

<app-footer></app-footer>